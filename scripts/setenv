dirs=(
	"/mnt/xilinx"
	"/opt/Xilinx"
)

for item in ${dirs[@]};do
	if [ -d "$item" ]; then
		XVERSION="`cd ${item}/Vivado/; find -mindepth 1 -maxdepth 1 -type d | cut -d '/' -f 2`"
		VIVADO_BIN="${item}/Vivado/${XVERSION}/bin/vivado"
		HSI_BIN="${item}/SDK/${XVERSION}/bin/hsi"
		echo "the vivado binary is located in ${VIVADO_BIN}"
		break
	fi
done

if ! [ -f "/usr/bin/gmake" ]; then
	echo "ERROR: please provide 'gmake': sudo ln -s make /usr/bin/gmake"
	exit 1
fi
